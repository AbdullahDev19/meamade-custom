---
displayed_sidebar: medusaReactSidebar
slug: /references/medusa-react/providers/cart
---

import ParameterTypes from "@site/src/components/ParameterTypes"

# Cart

## CartProvider

`CartProvider` makes use of some of the hooks already exposed by `medusa-react` to perform cart operations on the Medusa backend. 
You can use it to create a cart, start the checkout flow, authorize payment sessions, and so on.

It also manages one single global piece of state which represents a cart, exactly like the one created on your Medusa backend.

To use `CartProvider`, you first have to insert it somewhere in your component tree below the [MedusaProvider](../../modules/medusa_react.mdx#medusaprovider). Then, in any of the child components, 
you can use the [useCart](../../modules/medusa_react.mdx#usecart) hook exposed by `medusa-react` to get access to cart operations and data.

### Example

```tsx title="src/App.ts"
import { CartProvider, MedusaProvider } from "medusa-react"
import Storefront from "./Storefront"
import { QueryClient } from "@tanstack/react-query"
import React from "react"

const queryClient = new QueryClient()

function App() {
  return (
    <MedusaProvider
      queryClientProviderProps={{ client: queryClient }}
      baseUrl="http://localhost:9000"
    >
      <CartProvider>
        <Storefront />
      </CartProvider>
    </MedusaProvider>
  )
}

export default App
```

### Parameters

<ParameterTypes parameters={[
  {
    "name": "param0",
    "type": "`CartProps`",
    "description": "Props of the provider.",
    "optional": false,
    "defaultValue": "",
    "expandable": false,
    "children": []
  }
]} />

### Returns

<ParameterTypes parameters={[
  {
    "name": "Element",
    "type": "`Element`",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "expandable": false,
    "children": []
  }
]} />

___

## useCart

This hook exposes the context of [CartProvider](../../modules/medusa_react.mdx#cartprovider).

### Example

```tsx title="src/Cart.ts"
import * as React from "react"

import { useCart } from "medusa-react"

const Cart = () => {
  const handleClick = () => {
    createCart.mutate({}) // create an empty cart
  }

  const { cart, createCart } = useCart()

  return (
    <div>
      {createCart.isLoading && <div>Loading...</div>}
      {!cart?.id && (
        <button onClick={handleClick}>
          Create cart
        </button>
      )}
      {cart?.id && (
        <div>Cart ID: {cart.id}</div>
      )}
    </div>
  )
}

export default Cart
```

In the example above, you retrieve the `createCart` mutation and `cart` state object using the `useCart` hook. 
If the `cart` is not set, a button is shown. When the button is clicked, the `createCart` mutation is executed, which interacts with the backend and creates a new cart.

After the cart is created, the `cart` state variable is set and its ID is shown instead of the button.

:::note

The example above does not store in the browser the ID of the cart created, so the cart’s data will be gone on refresh. 
You would have to do that using the browser’s [Local Storage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage).

:::

### Returns

<ParameterTypes parameters={[
  {
    "name": "CartContext",
    "type": "`CartContext`",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "expandable": false,
    "children": []
  }
]} />
